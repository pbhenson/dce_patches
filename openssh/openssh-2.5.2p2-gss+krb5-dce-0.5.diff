diff -c -r openssh-2.5.2p2-gss+krb5/Makefile.in openssh-2.5.2p2-gss+krb5-dce/Makefile.in
*** openssh-2.5.2p2-gss+krb5/Makefile.in	Wed Apr 11 18:12:23 2001
--- openssh-2.5.2p2-gss+krb5-dce/Makefile.in	Fri Apr  6 15:26:33 2001
***************
*** 48,54 ****
  
  SSHOBJS= ssh.o sshconnect.o sshconnect1.o sshconnect2.o readconf.o clientloop.o gss-clnt.o
  
! SSHDOBJS= sshd.o auth.o auth1.o auth2.o auth-chall.o auth2-chall.o auth-rhosts.o auth-options.o auth-krb4.o auth-pam.o auth2-pam.o auth-passwd.o auth-rsa.o auth-rh-rsa.o auth-sia.o dh.o sshpty.o sshlogin.o loginrec.o servconf.o serverloop.o md5crypt.o session.o groupaccess.o auth-krb5.o gss-serv.o
  
  TROFFMAN	= scp.1 ssh-add.1 ssh-agent.1 ssh-keygen.1 ssh-keyscan.1 ssh.1 sshd.8 sftp-server.8 sftp.1
  CATMAN		= scp.0 ssh-add.0 ssh-agent.0 ssh-keygen.0 ssh-keyscan.0 ssh.0 sshd.0 sftp-server.0 sftp.0
--- 48,54 ----
  
  SSHOBJS= ssh.o sshconnect.o sshconnect1.o sshconnect2.o readconf.o clientloop.o gss-clnt.o
  
! SSHDOBJS= sshd.o auth.o auth1.o auth2.o auth-chall.o auth2-chall.o auth-rhosts.o auth-options.o auth-krb4.o auth-pam.o auth2-pam.o auth-passwd.o auth-rsa.o auth-rh-rsa.o auth-sia.o dh.o sshpty.o sshlogin.o loginrec.o servconf.o serverloop.o md5crypt.o session.o groupaccess.o auth-krb5.o gss-serv.o auth-dce.o
  
  TROFFMAN	= scp.1 ssh-add.1 ssh-agent.1 ssh-keygen.1 ssh-keyscan.1 ssh.1 sshd.8 sftp-server.8 sftp.1
  CATMAN		= scp.0 ssh-add.0 ssh-agent.0 ssh-keygen.0 ssh-keyscan.0 ssh.0 sshd.0 sftp-server.0 sftp.0
diff -c -r openssh-2.5.2p2-gss+krb5/auth-dce.c openssh-2.5.2p2-gss+krb5-dce/auth-dce.c
*** openssh-2.5.2p2-gss+krb5/auth-dce.c	Wed Apr 11 18:14:38 2001
--- openssh-2.5.2p2-gss+krb5-dce/auth-dce.c	Wed Apr 11 16:23:25 2001
***************
*** 0 ****
--- 1,292 ----
+ #include "includes.h"
+ 
+ #ifdef DCE
+ 
+ /* For IBM/Transarc DCE under Solaris */
+ #define sec_login_krb5_add_cred _dce_ePDtOJTZvU
+ 
+ #include <dce/sec_login.h>
+ #include <pwd.h>
+ 
+ #include "ssh.h"
+ #include "ssh1.h"
+ #include "log.h"
+ 
+ static sec_login_handle_t dce_context = NULL;
+ 
+ int auth_dce_password(struct passwd *pw, char *password) {
+ 
+   sec_login_auth_src_t auth_src;
+   sec_login_tkt_info_t tkt_info;
+   sec_passwd_rec_t pw_entry;
+   boolean32 reset_passwd;
+   sec_passwd_str_t dce_pw;
+   error_status_t dce_st;
+ 
+   if (seteuid(pw->pw_uid))
+     log("auth_dce_password: seteuid(%d) failed - %d", (int)pw->pw_uid, errno);
+   
+   sec_login_setup_identity(pw->pw_name, sec_login_no_flags, &dce_context, &dce_st);
+ 
+   if (seteuid(0))
+     log("auth_dce_password: seteuid(0) failed - %d", errno);
+ 
+   if (dce_st) {
+     log("auth_dce_password: sec_login_setup_identity failed - %d", (int)dce_st);
+     return 0;
+   }
+   
+   pw_entry.version_number = sec_passwd_c_version_none;
+   pw_entry.pepper = NULL;
+   pw_entry.key.key_type = sec_passwd_plain;
+ 
+   strncpy((char *)dce_pw, password, sec_passwd_str_max_len);
+   dce_pw[sec_passwd_str_max_len] = '\0';
+   pw_entry.key.tagged_union.plain = &(dce_pw[0]);
+   
+   tkt_info.options = sec_login_tkt_forwardable;
+   sec_login_tkt_request_options(dce_context, &tkt_info, &dce_st);
+ 
+   sec_login_valid_and_cert_ident(dce_context, &pw_entry, &reset_passwd, &auth_src, &dce_st);
+ 
+   if (dce_st) {
+     log("auth_dce_password: sec_login_valid_and_cert_ident failed - %d", (int)dce_st);
+     sec_login_purge_context(&dce_context, &dce_st);
+     return 0;
+   }
+ 
+   return 1;
+ }
+ 
+ void auth_dce_setcred(char **env, u_int *envsize) {
+ 
+   error_status_t dce_st;
+ 
+   if (!dce_context)
+     return;
+ 
+   sec_login_set_context(dce_context, &dce_st);
+   if (dce_st) {
+     log("auth_dce_setcred: sec_login_set_context failed - %d", (int)dce_st);
+     sec_login_purge_context(&dce_context, &dce_st);
+     return;
+   }
+ 
+   child_set_env(&env, envsize, "KRB5CCNAME", getenv("KRB5CCNAME"));
+ }
+ 
+ void auth_dce_cleanup() {
+ 
+   error_status_t dce_st;
+ 
+   if (!dce_context)
+     return;
+ 
+   sec_login_purge_context(&dce_context, &dce_st);
+   if (dce_st)
+     log("auth_dce_cleanup: sec_login_purge_context failed - %d", (int)dce_st);
+  
+ }
+ 
+ #ifdef KRB5
+ 
+ #include <krb5.h>
+ 
+ typedef int dce_krb5_int32;
+ typedef short dce_krb5short;
+ typedef unsigned char dce_krb5_octet;
+ typedef dce_krb5_octet dce_krb5_boolean;
+ typedef dce_krb5short dce_krb5_keytype;
+ typedef dce_krb5_int32 dce_krb5_flags;
+ typedef dce_krb5_int32 dce_krb5_timestamp;
+ typedef dce_krb5_int32 dce_krb5_addrtype;
+ 
+ typedef char *dce_krb5_pointer;
+ 
+ typedef struct _dce_krb5_keyblock {
+     dce_krb5_keytype keytype;
+     int length;
+     dce_krb5_octet *contents;
+ } dce_krb5_keyblock;
+ 
+ typedef struct _dce_krb5_ticket_times {
+     dce_krb5_timestamp authtime;
+     dce_krb5_timestamp starttime;
+     dce_krb5_timestamp endtime;
+     dce_krb5_timestamp renew_till;
+ } dce_krb5_ticket_times;
+ 
+ typedef struct _dce_krb5_data {
+      int length;
+      char *data;
+ } dce_krb5_data;
+ 
+ typedef struct _dce_krb5_authdata {
+     int ad_type;
+     int length;
+     dce_krb5_octet *contents;
+ } dce_krb5_authdata;
+ 
+ typedef struct dce_krb5_address {
+     dce_krb5_addrtype addrtype;
+     int length;
+     dce_krb5_octet *contents;
+ } dce_krb5_address;
+ 
+ typedef struct _dce_krb5_creds {
+     dce_krb5_data **client;
+     dce_krb5_data **server;
+     dce_krb5_keyblock keyblock;
+     dce_krb5_ticket_times times;
+     dce_krb5_boolean is_skey;
+     dce_krb5_flags ticket_flags;
+     dce_krb5_address **addresses;
+     dce_krb5_data ticket;
+     dce_krb5_data second_ticket;
+     dce_krb5_pointer **authdata;
+ } dce_krb5_creds;
+ 
+ static dce_krb5_creds *mit_to_dce_creds(krb5_context context, krb5_creds *creds) {
+ 
+   static dce_krb5_creds dce_creds;
+   static dce_krb5_data *client_data[3];
+   static dce_krb5_data client_data_realm;
+   static dce_krb5_data client_data_principal;
+   static dce_krb5_data *server_data[4];
+   static dce_krb5_data server_data_realm;
+   static dce_krb5_data server_data_principal;
+   static dce_krb5_data server_data_instance;
+   static dce_krb5_address *dce_krb5_addresses[2];
+   static dce_krb5_address dce_krb5_addr;
+ 
+   krb5_error_code error_code;
+   char *principal_text;
+   char *realm_text;
+   
+   if ((error_code = krb5_unparse_name(context, creds->client, &principal_text))) {
+     log("auth_dce.mit_to_dce_creds: krb5_parse_name failed: %d", error_code);
+     return NULL;
+   }
+ 
+   if (!(realm_text = strchr(principal_text, '@'))) {
+     log("auth_dce.mit_to_dce_creds: realm separator not found in principal %s", principal_text);
+     return NULL;
+   }
+ 
+   *realm_text++ = '\0';
+   
+   dce_creds.client = client_data;
+   client_data[0] = &client_data_realm;
+   client_data_realm.length = strlen(realm_text);
+   client_data_realm.data = realm_text;
+   client_data[1] = &client_data_principal;
+   client_data_principal.length = strlen(principal_text);
+   client_data_principal.data = principal_text;
+   client_data[2] = 0;
+ 
+   dce_creds.server = server_data;
+   server_data[0] = &server_data_realm;
+   server_data_realm.length = strlen(realm_text);
+   server_data_realm.data = realm_text;
+   server_data[1] = &server_data_principal;
+   server_data_principal.length = strlen("krbtgt");
+   server_data_principal.data = "krbtgt";
+   server_data[2] = &server_data_instance;
+   server_data_instance.length = strlen(realm_text);
+   server_data_instance.data = realm_text;
+   server_data[3] = 0;
+ 
+   dce_creds.keyblock.keytype = creds->keyblock.enctype;
+   dce_creds.keyblock.length = creds->keyblock.length;
+   dce_creds.keyblock.contents = creds->keyblock.contents;
+ 
+   dce_creds.times.authtime = creds->times.authtime;
+   dce_creds.times.starttime = creds->times.starttime;
+   dce_creds.times.endtime = creds->times.endtime;
+   dce_creds.times.renew_till = creds->times.renew_till;
+ 
+   dce_creds.is_skey = creds->is_skey;
+ 
+   dce_creds.ticket_flags = creds->ticket_flags;
+ 
+   dce_creds.addresses = dce_krb5_addresses;
+   dce_krb5_addresses[0] = &dce_krb5_addr;
+   dce_krb5_addr.addrtype = creds->addresses[0]->addrtype;
+   dce_krb5_addr.length = creds->addresses[0]->length;
+   dce_krb5_addr.contents = creds->addresses[0]->contents;
+   dce_krb5_addresses[1] = 0;
+ 
+   dce_creds.ticket.length = creds->ticket.length;
+   dce_creds.ticket.data = creds->ticket.data;
+ 
+   dce_creds.second_ticket.length = creds->second_ticket.length;
+   dce_creds.second_ticket.data = creds->second_ticket.data;
+ 
+   dce_creds.authdata = 0;
+ 
+   return &dce_creds;
+ }
+ 
+ int auth_dce_krb5_tgt(krb5_context context, krb5_auth_context auth_context, struct passwd *pw, krb5_data *tgt)
+ {
+   krb5_error_code error_code;
+   krb5_creds **creds;
+   error_status_t dce_st;
+   boolean32 reset_passwd;
+   sec_login_auth_src_t auth_src;
+   dce_krb5_creds *dce_creds;
+   
+   if ((error_code = krb5_rd_cred(context, auth_context, tgt, &creds, NULL))) {
+     log("auth_dce_krb5_tgt: krb5_rd_cred failed - %d", error_code);
+     return 0;
+   }
+ 
+   if (seteuid(pw->pw_uid))
+     log("auth_dce_krb5_tgt: seteuid(%d) failed - %d", (int)pw->pw_uid, errno);
+ 
+   sec_login_setup_identity(pw->pw_name, sec_login_external_tgt|sec_login_proxy_cred, &dce_context, &dce_st);
+ 
+   if (seteuid(0))
+     log("auth_dce_krb5_tgt: seteuid(0) failed - %d", errno);
+ 
+   if (dce_st) {
+     log("auth_dce_krb5_tgt: sec_login_setup_identity failed - %d", (int)dce_st);
+     return 0;
+   }
+ 
+   if (!(dce_creds = mit_to_dce_creds(context, *creds))) {
+     log("auth_dce_krb5_tgt: mit_to_dce_creds failed");
+     return 0;
+   }
+   
+   sec_login_krb5_add_cred(dce_context, dce_creds, &dce_st);
+   if (dce_st) {
+     log("auth_dce_krb5_tgt: sec_login_krb5_add_cred failed - %d", (int)dce_st);
+     sec_login_purge_context(&dce_context, &dce_st);
+     return 0;
+   }
+ 
+   if (seteuid(pw->pw_uid))
+     log("auth_dce_krb5_tgt: seteuid(%d) failed - %d", (int)pw->pw_uid, errno);
+   
+   sec_login_validate_identity(dce_context, NULL, &reset_passwd, &auth_src, &dce_st);
+ 
+   if (seteuid(0))
+     log("auth_dce_krb5_tgt: seteuid(0) failed - %d", errno);
+   
+   if (dce_st) {
+     log("auth_dce_krb5_tgt: sec_login_validate_identity failed - %d", (int)dce_st);
+     sec_login_purge_context(&dce_context, &dce_st);
+     return 0;
+   }
+ 
+   if (!sec_login_certify_identity(dce_context, &dce_st)) {
+     log("auth_dce_krb5_tgt: sec_login_certify_identity failed - %d", (int)dce_st);
+     sec_login_purge_context(&dce_context, &dce_st);
+     return 0;
+   }
+   
+   return 1;
+ }
+ #endif
+ #endif
diff -c -r openssh-2.5.2p2-gss+krb5/auth-krb5.c openssh-2.5.2p2-gss+krb5-dce/auth-krb5.c
*** openssh-2.5.2p2-gss+krb5/auth-krb5.c	Wed Apr 11 18:12:23 2001
--- openssh-2.5.2p2-gss+krb5-dce/auth-krb5.c	Fri Apr  6 15:30:47 2001
***************
*** 4,9 ****
--- 4,10 ----
  #ifdef KRB5
  #include <krb5.h>
  
+ #include <pwd.h>
  #include "ssh.h"
  #include "ssh1.h"
  #include "packet.h"
***************
*** 194,200 ****
  }
             
  int
! auth_krb5_tgt(krb5_data *tgt)
  {
          krb5_error_code problem;
  #ifndef HEIMDAL
--- 195,201 ----
  }
             
  int
! auth_krb5_tgt(struct passwd *pw, krb5_data *tgt)
  {
          krb5_error_code problem;
  #ifndef HEIMDAL
***************
*** 208,213 ****
--- 209,221 ----
  
          debug("Trying Kerbero V5 TGT passing");
  
+ #ifdef DCE
+ 	debug("Trying DCE-integrated Kerberos V5 TGT passing");
+ 	
+ 	if (!auth_dce_krb5_tgt(context, auth_context, pw, tgt))
+ 	  goto fail;
+ #else
+ 	    
  #ifdef HEIMDAL        
          problem = krb5_cc_gen_new(context, &krb5_mcc_ops, &mem_ccache);
  #else
***************
*** 245,251 ****
          	goto fail;
          }
  #endif
! 
          
          log("Forwarded Kerberos V5 TGT accepted");
          /*packet_send_debug("Forwarded Kerberos V5 TGT accepted");*/
--- 253,259 ----
          	goto fail;
          }
  #endif
! #endif /* DCE */
          
          log("Forwarded Kerberos V5 TGT accepted");
          /*packet_send_debug("Forwarded Kerberos V5 TGT accepted");*/
diff -c -r openssh-2.5.2p2-gss+krb5/auth-passwd.c openssh-2.5.2p2-gss+krb5-dce/auth-passwd.c
*** openssh-2.5.2p2-gss+krb5/auth-passwd.c	Wed Apr 11 18:12:23 2001
--- openssh-2.5.2p2-gss+krb5-dce/auth-passwd.c	Mon Apr  9 16:28:00 2001
***************
*** 148,159 ****
--- 148,165 ----
  	return (authenticate(pw->pw_name,password,&reenter,&authmsg) == 0);
  #endif
  
+ #ifdef DCE
+ 	if (auth_dce_password(pw, password) == 1)
+ 	  return 1;
+ 	/* Fall back to ordinary passwd authentication. */
+ #else
  #ifdef KRB5
          if (options.krb5_authentication == 1) 
                  if (auth_krb5_password(pw, password))
                          return 1;
                  /* Fall back to ordinary passwd authentication. */
  #endif /* KRB5 */
+ #endif /* DCE */
          
  #ifdef KRB4
          if (options.krb4_authentication == 1) {
diff -c -r openssh-2.5.2p2-gss+krb5/auth.h openssh-2.5.2p2-gss+krb5-dce/auth.h
*** openssh-2.5.2p2-gss+krb5/auth.h	Wed Apr 11 18:12:23 2001
--- openssh-2.5.2p2-gss+krb5-dce/auth.h	Fri Apr  6 15:34:12 2001
***************
*** 92,102 ****
   */
  int     auth_rsa_challenge_dialog(RSA *pk);
  
  #ifdef KRB5
  #include <krb5.h>
  /* Perform Kerberos v5 authentication, */
  int auth_krb5(const char *server_user, krb5_data *auth_data);
! int auth_krb5_tgt(krb5_data *tgt);
  int auth_krb5_password(struct passwd *pw, const char *password);
  /* Store acquired ticket */
  char *krb5_do_child(void);
--- 92,111 ----
   */
  int     auth_rsa_challenge_dialog(RSA *pk);
  
+ #ifdef DCE
+ void auth_dce_setcred(char **env, u_int *envsize);
+ void auth_dce_cleanup();
+ int auth_dce_passwd(struct passwd *pw, char *password);
+ #endif
+ 
  #ifdef KRB5
  #include <krb5.h>
  /* Perform Kerberos v5 authentication, */
  int auth_krb5(const char *server_user, krb5_data *auth_data);
! int auth_krb5_tgt(struct passwd *pw, krb5_data *tgt);
! #ifdef DCE
! int auth_dce_krb5_tgt(krb5_context context, krb5_auth_context auth_context, struct passwd *pw, krb5_data *tgt);
! #endif
  int auth_krb5_password(struct passwd *pw, const char *password);
  /* Store acquired ticket */
  char *krb5_do_child(void);
diff -c -r openssh-2.5.2p2-gss+krb5/config.h.in openssh-2.5.2p2-gss+krb5-dce/config.h.in
*** openssh-2.5.2p2-gss+krb5/config.h.in	Wed Apr 11 18:12:12 2001
--- openssh-2.5.2p2-gss+krb5-dce/config.h.in	Fri Apr  6 15:34:49 2001
***************
*** 187,192 ****
--- 187,195 ----
  /* Define this is you want GSSAPI support in the version 2 protocol */
  #undef GSSAPI
  
+ /* Define if you want DCE support */
+ #undef DCE
+ 
  /* Define if you want Kerberos 5 support */
  #undef KRB5
  
diff -c -r openssh-2.5.2p2-gss+krb5/configure openssh-2.5.2p2-gss+krb5-dce/configure
*** openssh-2.5.2p2-gss+krb5/configure	Wed Mar 21 21:07:06 2001
--- openssh-2.5.2p2-gss+krb5-dce/configure	Fri Apr 13 11:33:28 2001
***************
*** 22,27 ****
--- 22,31 ----
  ac_help="$ac_help
    --with-pcre             Override built in regex library with pcre"
  ac_help="$ac_help
+   --with-dce		Enable DCE support"
+ ac_help="$ac_help
+   --with-kerberos5=PATH   Enable Kerberos 5 support"
+ ac_help="$ac_help
    --with-kerberos4=PATH   Enable Kerberos 4 support"
  ac_help="$ac_help
    --with-afs=PATH         Enable AFS support"
***************
*** 599,605 ****
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:603: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 603,609 ----
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:607: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 629,635 ****
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:633: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 633,639 ----
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:637: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 680,686 ****
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:684: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 684,690 ----
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:688: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 712,718 ****
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:716: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
--- 716,722 ----
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:720: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
***************
*** 723,734 ****
  
  cat > conftest.$ac_ext << EOF
  
! #line 727 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:732: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
--- 727,738 ----
  
  cat > conftest.$ac_ext << EOF
  
! #line 731 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:736: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
***************
*** 754,765 ****
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:758: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:763: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 758,769 ----
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:762: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:767: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 768,774 ****
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:772: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
--- 772,778 ----
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:776: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
***************
*** 787,793 ****
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:791: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 791,797 ----
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:795: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 844,850 ****
  fi
  
  echo $ac_n "checking host system type""... $ac_c" 1>&6
! echo "configure:848: checking host system type" >&5
  
  host_alias=$host
  case "$host_alias" in
--- 848,854 ----
  fi
  
  echo $ac_n "checking host system type""... $ac_c" 1>&6
! echo "configure:852: checking host system type" >&5
  
  host_alias=$host
  case "$host_alias" in
***************
*** 865,878 ****
  echo "$ac_t""$host" 1>&6
  
  echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
! echo "configure:869: checking whether byte ordering is bigendian" >&5
  if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_bigendian=unknown
  # See if sys/param.h defines the BYTE_ORDER macro.
  cat > conftest.$ac_ext <<EOF
! #line 876 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
--- 869,882 ----
  echo "$ac_t""$host" 1>&6
  
  echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
! echo "configure:873: checking whether byte ordering is bigendian" >&5
  if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_bigendian=unknown
  # See if sys/param.h defines the BYTE_ORDER macro.
  cat > conftest.$ac_ext <<EOF
! #line 880 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
***************
*** 883,893 ****
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:887: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    # It does; now see whether it defined to BIG_ENDIAN or not.
  cat > conftest.$ac_ext <<EOF
! #line 891 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
--- 887,897 ----
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:891: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    # It does; now see whether it defined to BIG_ENDIAN or not.
  cat > conftest.$ac_ext <<EOF
! #line 895 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
***************
*** 898,904 ****
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:902: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_bigendian=yes
  else
--- 902,908 ----
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:906: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_bigendian=yes
  else
***************
*** 918,924 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 922 "configure"
  #include "confdefs.h"
  main () {
    /* Are we little or big endian?  From Harbison&Steele.  */
--- 922,928 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 926 "configure"
  #include "confdefs.h"
  main () {
    /* Are we little or big endian?  From Harbison&Steele.  */
***************
*** 931,937 ****
    exit (u.c[sizeof (long) - 1] == 1);
  }
  EOF
! if { (eval echo configure:935: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_bigendian=no
  else
--- 935,941 ----
    exit (u.c[sizeof (long) - 1] == 1);
  }
  EOF
! if { (eval echo configure:939: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_bigendian=no
  else
***************
*** 957,963 ****
  
  # Checks for programs.
  echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
! echo "configure:961: checking how to run the C preprocessor" >&5
  # On Suns, sometimes $CPP names a directory.
  if test -n "$CPP" && test -d "$CPP"; then
    CPP=
--- 961,967 ----
  
  # Checks for programs.
  echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
! echo "configure:965: checking how to run the C preprocessor" >&5
  # On Suns, sometimes $CPP names a directory.
  if test -n "$CPP" && test -d "$CPP"; then
    CPP=
***************
*** 972,984 ****
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp.
    cat > conftest.$ac_ext <<EOF
! #line 976 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:982: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 976,988 ----
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp.
    cat > conftest.$ac_ext <<EOF
! #line 980 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:986: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 989,1001 ****
    rm -rf conftest*
    CPP="${CC-cc} -E -traditional-cpp"
    cat > conftest.$ac_ext <<EOF
! #line 993 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:999: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 993,1005 ----
    rm -rf conftest*
    CPP="${CC-cc} -E -traditional-cpp"
    cat > conftest.$ac_ext <<EOF
! #line 997 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1003: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 1006,1018 ****
    rm -rf conftest*
    CPP="${CC-cc} -nologo -E"
    cat > conftest.$ac_ext <<EOF
! #line 1010 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1016: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 1010,1022 ----
    rm -rf conftest*
    CPP="${CC-cc} -nologo -E"
    cat > conftest.$ac_ext <<EOF
! #line 1014 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1020: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 1039,1045 ****
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1043: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1043,1049 ----
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1047: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1078,1084 ****
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # ./install, which can be erroneously created by make from ./install.sh.
  echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
! echo "configure:1082: checking for a BSD compatible install" >&5
  if test -z "$INSTALL"; then
  if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 1082,1088 ----
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # ./install, which can be erroneously created by make from ./install.sh.
  echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
! echo "configure:1086: checking for a BSD compatible install" >&5
  if test -z "$INSTALL"; then
  if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 1133,1139 ****
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1137: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1137,1143 ----
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1141: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1168,1174 ****
  # Extract the first word of "perl", so it can be a program name with args.
  set dummy perl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1172: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1172,1178 ----
  # Extract the first word of "perl", so it can be a program name with args.
  set dummy perl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1176: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1204,1210 ****
  # Extract the first word of "ent", so it can be a program name with args.
  set dummy ent; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1208: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1208,1214 ----
  # Extract the first word of "ent", so it can be a program name with args.
  set dummy ent; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1212: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1242,1248 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1246: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1246,1252 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1250: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1281,1287 ****
  # Extract the first word of "bash", so it can be a program name with args.
  set dummy bash; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1285: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1285,1291 ----
  # Extract the first word of "bash", so it can be a program name with args.
  set dummy bash; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1289: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1316,1322 ****
  # Extract the first word of "ksh", so it can be a program name with args.
  set dummy ksh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1320: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1320,1326 ----
  # Extract the first word of "ksh", so it can be a program name with args.
  set dummy ksh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1324: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1351,1357 ****
  # Extract the first word of "sh", so it can be a program name with args.
  set dummy sh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1355: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1355,1361 ----
  # Extract the first word of "sh", so it can be a program name with args.
  set dummy sh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1359: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1399,1405 ****
  	# Extract the first word of "login", so it can be a program name with args.
  set dummy login; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1403: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1403,1409 ----
  	# Extract the first word of "login", so it can be a program name with args.
  set dummy login; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1407: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1446,1466 ****
  	
  # C Compiler features
  echo $ac_n "checking for inline""... $ac_c" 1>&6
! echo "configure:1450: checking for inline" >&5
  if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_inline=no
  for ac_kw in inline __inline__ __inline; do
    cat > conftest.$ac_ext <<EOF
! #line 1457 "configure"
  #include "confdefs.h"
  
  int main() {
  } $ac_kw foo() {
  ; return 0; }
  EOF
! if { (eval echo configure:1464: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_inline=$ac_kw; break
  else
--- 1450,1470 ----
  	
  # C Compiler features
  echo $ac_n "checking for inline""... $ac_c" 1>&6
! echo "configure:1454: checking for inline" >&5
  if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_inline=no
  for ac_kw in inline __inline__ __inline; do
    cat > conftest.$ac_ext <<EOF
! #line 1461 "configure"
  #include "confdefs.h"
  
  int main() {
  } $ac_kw foo() {
  ; return 0; }
  EOF
! if { (eval echo configure:1468: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_inline=$ac_kw; break
  else
***************
*** 1499,1510 ****
  		blibpath="/usr/lib:/lib:/usr/local/lib"
  	fi
  	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
! echo "configure:1503: checking for authenticate" >&5
  if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1508 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char authenticate(); below.  */
--- 1503,1514 ----
  		blibpath="/usr/lib:/lib:/usr/local/lib"
  	fi
  	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
! echo "configure:1507: checking for authenticate" >&5
  if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1512 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char authenticate(); below.  */
***************
*** 1527,1533 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1531: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_authenticate=yes"
  else
--- 1531,1537 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1535: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_authenticate=yes"
  else
***************
*** 1680,1691 ****
  EOF
  
  	echo $ac_n "checking for jlimit_startjob""... $ac_c" 1>&6
! echo "configure:1684: checking for jlimit_startjob" >&5
  if eval "test \"`echo '$''{'ac_cv_func_jlimit_startjob'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1689 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char jlimit_startjob(); below.  */
--- 1684,1695 ----
  EOF
  
  	echo $ac_n "checking for jlimit_startjob""... $ac_c" 1>&6
! echo "configure:1688: checking for jlimit_startjob" >&5
  if eval "test \"`echo '$''{'ac_cv_func_jlimit_startjob'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1693 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char jlimit_startjob(); below.  */
***************
*** 1708,1714 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1712: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_jlimit_startjob=yes"
  else
--- 1712,1718 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1716: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_jlimit_startjob=yes"
  else
***************
*** 1758,1764 ****
  
  	SONY=1
  	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
! echo "configure:1762: checking for xatexit in -liberty" >&5
  ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 1762,1768 ----
  
  	SONY=1
  	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
! echo "configure:1766: checking for xatexit in -liberty" >&5
  ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 1766,1772 ****
    ac_save_LIBS="$LIBS"
  LIBS="-liberty  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 1770 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 1770,1776 ----
    ac_save_LIBS="$LIBS"
  LIBS="-liberty  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 1774 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 1777,1783 ****
  xatexit()
  ; return 0; }
  EOF
! if { (eval echo configure:1781: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 1781,1787 ----
  xatexit()
  ; return 0; }
  EOF
! if { (eval echo configure:1785: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 1844,1850 ****
  	# hardwire lastlog location (can't detect it on some versions)
  	conf_lastlog_location="/var/adm/lastlog"
  	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
! echo "configure:1848: checking for obsolete utmp and wtmp in solaris2.x" >&5
  	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
  	if test "$sol2ver" -ge 8; then
  		echo "$ac_t""yes" 1>&6
--- 1848,1854 ----
  	# hardwire lastlog location (can't detect it on some versions)
  	conf_lastlog_location="/var/adm/lastlog"
  	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
! echo "configure:1852: checking for obsolete utmp and wtmp in solaris2.x" >&5
  	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
  	if test "$sol2ver" -ge 8; then
  		echo "$ac_t""yes" 1>&6
***************
*** 1865,1876 ****
  	for ac_func in getpwanam
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:1869: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1874 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 1869,1880 ----
  	for ac_func in getpwanam
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:1873: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1878 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 1893,1899 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1897: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 1897,1903 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1901: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2027,2038 ****
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2031: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2036 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 2031,2042 ----
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2035: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2040 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 2055,2061 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2059: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 2059,2065 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2063: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2107,2118 ****
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2111: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2116 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 2111,2122 ----
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2115: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2120 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 2135,2141 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2139: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 2139,2145 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2143: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2163,2169 ****
  *-dec-osf*)
  	if test ! -z "USE_SIA" ; then
  		echo $ac_n "checking for Digital Unix Security Integration Architecture""... $ac_c" 1>&6
! echo "configure:2167: checking for Digital Unix Security Integration Architecture" >&5
  		if test -f /etc/sia/matrix.conf; then
  			echo "$ac_t""yes" 1>&6
  			cat >> confdefs.h <<\EOF
--- 2167,2173 ----
  *-dec-osf*)
  	if test ! -z "USE_SIA" ; then
  		echo $ac_n "checking for Digital Unix Security Integration Architecture""... $ac_c" 1>&6
! echo "configure:2171: checking for Digital Unix Security Integration Architecture" >&5
  		if test -f /etc/sia/matrix.conf; then
  			echo "$ac_t""yes" 1>&6
  			cat >> confdefs.h <<\EOF
***************
*** 2234,2240 ****
    
  
  		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2238: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2238,2244 ----
    
  
  		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2242: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2242,2248 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2246 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2246,2252 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2250 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2253,2259 ****
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2257: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2257,2263 ----
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2261: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2290,2296 ****
  # Checks for libraries.
  if test -z "$no_libnsl" ; then
  	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
! echo "configure:2294: checking for yp_match in -lnsl" >&5
  ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2294,2300 ----
  # Checks for libraries.
  if test -z "$no_libnsl" ; then
  	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
! echo "configure:2298: checking for yp_match in -lnsl" >&5
  ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2298,2304 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2302 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2302,2308 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2306 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2309,2315 ****
  yp_match()
  ; return 0; }
  EOF
! if { (eval echo configure:2313: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2313,2319 ----
  yp_match()
  ; return 0; }
  EOF
! if { (eval echo configure:2317: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2339,2345 ****
  fi
  if test -z "$no_libsocket" ; then
  	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
! echo "configure:2343: checking for main in -lsocket" >&5
  ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2343,2349 ----
  fi
  if test -z "$no_libsocket" ; then
  	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
! echo "configure:2347: checking for main in -lsocket" >&5
  ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2347,2360 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2351 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:2358: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2351,2364 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2355 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:2362: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2384,2390 ****
  fi
  
  echo $ac_n "checking for innetgr in -lrpc""... $ac_c" 1>&6
! echo "configure:2388: checking for innetgr in -lrpc" >&5
  ac_lib_var=`echo rpc'_'innetgr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2388,2394 ----
  fi
  
  echo $ac_n "checking for innetgr in -lrpc""... $ac_c" 1>&6
! echo "configure:2392: checking for innetgr in -lrpc" >&5
  ac_lib_var=`echo rpc'_'innetgr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2392,2398 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lrpc -lyp -lrpc $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2396 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2396,2402 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lrpc -lyp -lrpc $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2400 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2403,2409 ****
  innetgr()
  ; return 0; }
  EOF
! if { (eval echo configure:2407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2407,2413 ----
  innetgr()
  ; return 0; }
  EOF
! if { (eval echo configure:2411: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2425,2431 ****
  
  
  echo $ac_n "checking for getspnam in -lgen""... $ac_c" 1>&6
! echo "configure:2429: checking for getspnam in -lgen" >&5
  ac_lib_var=`echo gen'_'getspnam | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2429,2435 ----
  
  
  echo $ac_n "checking for getspnam in -lgen""... $ac_c" 1>&6
! echo "configure:2433: checking for getspnam in -lgen" >&5
  ac_lib_var=`echo gen'_'getspnam | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2433,2439 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lgen  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2437 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2437,2443 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lgen  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2441 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2444,2450 ****
  getspnam()
  ; return 0; }
  EOF
! if { (eval echo configure:2448: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2448,2454 ----
  getspnam()
  ; return 0; }
  EOF
! if { (eval echo configure:2452: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2465,2471 ****
  fi
  
  echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
! echo "configure:2469: checking for deflate in -lz" >&5
  ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2469,2475 ----
  fi
  
  echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
! echo "configure:2473: checking for deflate in -lz" >&5
  ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2473,2479 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lz  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2477 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2477,2483 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lz  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2481 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2484,2490 ****
  deflate()
  ; return 0; }
  EOF
! if { (eval echo configure:2488: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2488,2494 ----
  deflate()
  ; return 0; }
  EOF
! if { (eval echo configure:2492: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2513,2519 ****
  fi
  
  echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
! echo "configure:2517: checking for login in -lutil" >&5
  ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2517,2523 ----
  fi
  
  echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
! echo "configure:2521: checking for login in -lutil" >&5
  ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2521,2527 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lutil  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2525 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2525,2531 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lutil  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2529 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2532,2538 ****
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:2536: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2536,2542 ----
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:2540: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2559,2570 ****
  # We don't want to check if we did an pcre override.
  if test -z "$no_comp_check" ; then
  	echo $ac_n "checking for regcomp""... $ac_c" 1>&6
! echo "configure:2563: checking for regcomp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2568 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char regcomp(); below.  */
--- 2563,2574 ----
  # We don't want to check if we did an pcre override.
  if test -z "$no_comp_check" ; then
  	echo $ac_n "checking for regcomp""... $ac_c" 1>&6
! echo "configure:2567: checking for regcomp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2572 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char regcomp(); below.  */
***************
*** 2587,2593 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2591: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_regcomp=yes"
  else
--- 2591,2597 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2595: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_regcomp=yes"
  else
***************
*** 2609,2615 ****
    echo "$ac_t""no" 1>&6
  
  			echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2613: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2613,2619 ----
    echo "$ac_t""no" 1>&6
  
  			echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2617: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2617,2623 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2621 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2621,2627 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2625 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2628,2634 ****
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2632: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2632,2638 ----
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2636: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2664,2675 ****
  fi
  
  echo $ac_n "checking for strcasecmp""... $ac_c" 1>&6
! echo "configure:2668: checking for strcasecmp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strcasecmp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2673 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strcasecmp(); below.  */
--- 2668,2679 ----
  fi
  
  echo $ac_n "checking for strcasecmp""... $ac_c" 1>&6
! echo "configure:2672: checking for strcasecmp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strcasecmp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2677 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strcasecmp(); below.  */
***************
*** 2692,2698 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2696: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strcasecmp=yes"
  else
--- 2696,2702 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2700: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strcasecmp=yes"
  else
***************
*** 2710,2716 ****
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
! echo "configure:2714: checking for strcasecmp in -lresolv" >&5
  ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2714,2720 ----
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
! echo "configure:2718: checking for strcasecmp in -lresolv" >&5
  ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2718,2724 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2722 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2722,2728 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2726 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2729,2735 ****
  strcasecmp()
  ; return 0; }
  EOF
! if { (eval echo configure:2733: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2733,2739 ----
  strcasecmp()
  ; return 0; }
  EOF
! if { (eval echo configure:2737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2753,2764 ****
  fi
  
  echo $ac_n "checking for utimes""... $ac_c" 1>&6
! echo "configure:2757: checking for utimes" >&5
  if eval "test \"`echo '$''{'ac_cv_func_utimes'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2762 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char utimes(); below.  */
--- 2757,2768 ----
  fi
  
  echo $ac_n "checking for utimes""... $ac_c" 1>&6
! echo "configure:2761: checking for utimes" >&5
  if eval "test \"`echo '$''{'ac_cv_func_utimes'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2766 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char utimes(); below.  */
***************
*** 2781,2787 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2785: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_utimes=yes"
  else
--- 2785,2791 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2789: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_utimes=yes"
  else
***************
*** 2799,2805 ****
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for utimes in -lc89""... $ac_c" 1>&6
! echo "configure:2803: checking for utimes in -lc89" >&5
  ac_lib_var=`echo c89'_'utimes | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2803,2809 ----
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for utimes in -lc89""... $ac_c" 1>&6
! echo "configure:2807: checking for utimes in -lc89" >&5
  ac_lib_var=`echo c89'_'utimes | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2807,2813 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lc89  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2811 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2811,2817 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lc89  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2815 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2818,2824 ****
  utimes()
  ; return 0; }
  EOF
! if { (eval echo configure:2822: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2822,2828 ----
  utimes()
  ; return 0; }
  EOF
! if { (eval echo configure:2826: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2843,2854 ****
  
  
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
! echo "configure:2847: checking for strftime" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2852 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strftime(); below.  */
--- 2847,2858 ----
  
  
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
! echo "configure:2851: checking for strftime" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2856 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strftime(); below.  */
***************
*** 2871,2877 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2875: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strftime=yes"
  else
--- 2875,2881 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2879: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strftime=yes"
  else
***************
*** 2893,2899 ****
    echo "$ac_t""no" 1>&6
  # strftime is in -lintl on SCO UNIX.
  echo $ac_n "checking for strftime in -lintl""... $ac_c" 1>&6
! echo "configure:2897: checking for strftime in -lintl" >&5
  ac_lib_var=`echo intl'_'strftime | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2897,2903 ----
    echo "$ac_t""no" 1>&6
  # strftime is in -lintl on SCO UNIX.
  echo $ac_n "checking for strftime in -lintl""... $ac_c" 1>&6
! echo "configure:2901: checking for strftime in -lintl" >&5
  ac_lib_var=`echo intl'_'strftime | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2901,2907 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lintl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2905 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2905,2911 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lintl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2909 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2912,2918 ****
  strftime()
  ; return 0; }
  EOF
! if { (eval echo configure:2916: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2916,2922 ----
  strftime()
  ; return 0; }
  EOF
! if { (eval echo configure:2920: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2944,2960 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:2948: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2953 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2958: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 2948,2964 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:2952: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2957 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2962: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 2983,2991 ****
  
  # Check for ALTDIRFUNC glob() extension
  echo $ac_n "checking for GLOB_ALTDIRFUNC support""... $ac_c" 1>&6
! echo "configure:2987: checking for GLOB_ALTDIRFUNC support" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2989 "configure"
  #include "confdefs.h"
  
  		#include <glob.h>
--- 2987,2995 ----
  
  # Check for ALTDIRFUNC glob() extension
  echo $ac_n "checking for GLOB_ALTDIRFUNC support""... $ac_c" 1>&6
! echo "configure:2991: checking for GLOB_ALTDIRFUNC support" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2993 "configure"
  #include "confdefs.h"
  
  		#include <glob.h>
***************
*** 3016,3024 ****
  
  # Check for g.gl_matchc glob() extension
  echo $ac_n "checking for gl_matchc field in glob_t""... $ac_c" 1>&6
! echo "configure:3020: checking for gl_matchc field in glob_t" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3022 "configure"
  #include "confdefs.h"
  
                  #include <glob.h>
--- 3020,3028 ----
  
  # Check for g.gl_matchc glob() extension
  echo $ac_n "checking for gl_matchc field in glob_t""... $ac_c" 1>&6
! echo "configure:3024: checking for gl_matchc field in glob_t" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3026 "configure"
  #include "confdefs.h"
  
                  #include <glob.h>
***************
*** 3046,3053 ****
  
  
  
  
! # Check whether user wants Kerberos support
  KRB4_MSG="no" 
  # Check whether --with-kerberos4 or --without-kerberos4 was given.
  if test "${with_kerberos4+set}" = set; then
--- 3050,3224 ----
  
  
  
+ # Check whether user wants DCE support
+ # Check whether --with-dce or --without-dce was given.
+ if test "${with_dce+set}" = set; then
+   withval="$with_dce"
+   
+                 if test "x$withval" != "xno" ; then
+                         CFLAGS="$CFLAGS -D_REENTRANT"
+                         cat >> confdefs.h <<\EOF
+ #define DCE 1
+ EOF
+ 
+                         DCE=yes
+                 fi
+         
+ 
+ fi
+ 
+ 
+ # Check whether user wants Kerberos 5 support
+ # Check whether --with-kerberos5 or --without-kerberos5 was given.
+ if test "${with_kerberos5+set}" = set; then
+   withval="$with_kerberos5"
+   
+                 if test "x$withval" != "xno" ; then
+                         if test "x$withval" = "xyes" ; then
+                                 KRB5ROOT="/usr/local"
+                         else
+                                 KRB5ROOT=${withval}
+                         fi
+                         CFLAGS="$CFLAGS -I${KRB5ROOT}/include"
+                         LDFLAGS="$LDFLAGS -L${KRB5ROOT}/lib"
+                         cat >> confdefs.h <<\EOF
+ #define KRB5 1
+ EOF
+ 
+                         echo $ac_n "checking whether we are using Heimdal""... $ac_c" 1>&6
+ echo "configure:3090: checking whether we are using Heimdal" >&5
+                         cat > conftest.$ac_ext <<EOF
+ #line 3092 "configure"
+ #include "confdefs.h"
+  #include <krb5.h> 
+ int main() {
+  char *tmp = heimdal_version; 
+ ; return 0; }
+ EOF
+ if { (eval echo configure:3099: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+   rm -rf conftest*
+    echo "$ac_t""yes" 1>&6
+                                          cat >> confdefs.h <<\EOF
+ #define HEIMDAL 1
+ EOF
+ 
+                                          K5LIBS="-lkrb5 -lcom_err -lasn1 -lroken"
+                                        
+ else
+   echo "configure: failed program was:" >&5
+   cat conftest.$ac_ext >&5
+   rm -rf conftest*
+    echo "$ac_t""no" 1>&6
+                                          K5LIBS="-lkrb5 -lk5crypto -lcom_err"
+                                        
+                         
+ fi
+ rm -f conftest*
+                         if test ! -z "$need_dash_r" ; then
+                                 LDFLAGS="$LDFLAGS -R${KRB5ROOT}/lib"
+                         fi
+                         if test ! -z "$blibpath" ; then
+                                 blibpath="$blibpath:${KRB5ROOT}/lib"
+                         fi
+                         echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
+ echo "configure:3125: checking for dn_expand in -lresolv" >&5
+ ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
+ if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   ac_save_LIBS="$LIBS"
+ LIBS="-lresolv  $LIBS"
+ cat > conftest.$ac_ext <<EOF
+ #line 3133 "configure"
+ #include "confdefs.h"
+ /* Override any gcc2 internal prototype to avoid an error.  */
+ /* We use char because int might match the return type of a gcc2
+     builtin and then its argument prototype would still apply.  */
+ char dn_expand();
+ 
+ int main() {
+ dn_expand()
+ ; return 0; }
+ EOF
+ if { (eval echo configure:3144: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+   rm -rf conftest*
+   eval "ac_cv_lib_$ac_lib_var=yes"
+ else
+   echo "configure: failed program was:" >&5
+   cat conftest.$ac_ext >&5
+   rm -rf conftest*
+   eval "ac_cv_lib_$ac_lib_var=no"
+ fi
+ rm -f conftest*
+ LIBS="$ac_save_LIBS"
  
! fi
! if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
!   echo "$ac_t""yes" 1>&6
!     ac_tr_lib=HAVE_LIB`echo resolv | sed -e 's/[^a-zA-Z0-9_]/_/g' \
!     -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
!   cat >> confdefs.h <<EOF
! #define $ac_tr_lib 1
! EOF
! 
!   LIBS="-lresolv $LIBS"
! 
! else
!   echo "$ac_t""no" 1>&6
! fi
! 
! 
! 			echo $ac_n "checking for gss_init_sec_context in -lgssapi_krb5""... $ac_c" 1>&6
! echo "configure:3173: checking for gss_init_sec_context in -lgssapi_krb5" >&5
! ac_lib_var=`echo gssapi_krb5'_'gss_init_sec_context | sed 'y%./+-%__p_%'`
! if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
!   echo $ac_n "(cached) $ac_c" 1>&6
! else
!   ac_save_LIBS="$LIBS"
! LIBS="-lgssapi_krb5  $LIBS"
! cat > conftest.$ac_ext <<EOF
! #line 3181 "configure"
! #include "confdefs.h"
! /* Override any gcc2 internal prototype to avoid an error.  */
! /* We use char because int might match the return type of a gcc2
!     builtin and then its argument prototype would still apply.  */
! char gss_init_sec_context();
! 
! int main() {
! gss_init_sec_context()
! ; return 0; }
! EOF
! if { (eval echo configure:3192: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
!   rm -rf conftest*
!   eval "ac_cv_lib_$ac_lib_var=yes"
! else
!   echo "configure: failed program was:" >&5
!   cat conftest.$ac_ext >&5
!   rm -rf conftest*
!   eval "ac_cv_lib_$ac_lib_var=no"
! fi
! rm -f conftest*
! LIBS="$ac_save_LIBS"
! 
! fi
! if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
!   echo "$ac_t""yes" 1>&6
!    cat >> confdefs.h <<\EOF
! #define GSSAPI 1
! EOF
! 
! 				  K5LIBS="$K5LIBS -lgssapi_krb5" 
! else
!   echo "$ac_t""no" 1>&6
! fi
! 
!                         KRB5=yes
!                 fi
!         
! 
! fi
! 
! # Check whether user wants Kerberos 4 support
  KRB4_MSG="no" 
  # Check whether --with-kerberos4 or --without-kerberos4 was given.
  if test "${with_kerberos4+set}" = set; then
***************
*** 3074,3090 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3078: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3083 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3088: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 3245,3261 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3249: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3254 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3259: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 3111,3117 ****
  done
  
  			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
! echo "configure:3115: checking for main in -lkrb" >&5
  ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3282,3288 ----
  done
  
  			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
! echo "configure:3286: checking for main in -lkrb" >&5
  ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3119,3132 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3123 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:3130: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3290,3303 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3294 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:3301: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3162,3168 ****
  
  			KLIBS="-lkrb -ldes"
  			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
! echo "configure:3166: checking for dn_expand in -lresolv" >&5
  ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3333,3339 ----
  
  			KLIBS="-lkrb -ldes"
  			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
! echo "configure:3337: checking for dn_expand in -lresolv" >&5
  ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3170,3176 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3174 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3341,3347 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3345 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3181,3187 ****
  dn_expand()
  ; return 0; }
  EOF
! if { (eval echo configure:3185: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3352,3358 ----
  dn_expand()
  ; return 0; }
  EOF
! if { (eval echo configure:3356: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3233,3240 ****
  				LDFLAGS="$LDFLAGS -L${withval}/lib"
  			fi
  
! 			if test -z "$KRB4" ; then
! 				echo "configure: warning: AFS requires Kerberos IV support, build may fail" 1>&2
  			fi
  
  			LIBS="$LIBS -lkafs"
--- 3404,3411 ----
  				LDFLAGS="$LDFLAGS -L${withval}/lib"
  			fi
  
!                         if test -z "$KRB4" -a -z "$KRB5" ; then
!                                 echo "configure: warning: AFS requires Kerberos support, build may fail" 1>&2
  			fi
  
  			LIBS="$LIBS -lkafs"
***************
*** 3251,3257 ****
  
  fi
  
! LIBS="$LIBS $KLIBS"
  
  # Check whether user wants S/Key support
  SKEY_MSG="no" 
--- 3422,3428 ----
  
  fi
  
! LIBS="$LIBS $KLIBS $K5LIBS"
  
  # Check whether user wants S/Key support
  SKEY_MSG="no" 
***************
*** 3274,3285 ****
  			SKEY_MSG="yes" 
  	
  			echo $ac_n "checking for skey_keyinfo""... $ac_c" 1>&6
! echo "configure:3278: checking for skey_keyinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_func_skey_keyinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3283 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char skey_keyinfo(); below.  */
--- 3445,3456 ----
  			SKEY_MSG="yes" 
  	
  			echo $ac_n "checking for skey_keyinfo""... $ac_c" 1>&6
! echo "configure:3449: checking for skey_keyinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_func_skey_keyinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3454 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char skey_keyinfo(); below.  */
***************
*** 3302,3308 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3306: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_skey_keyinfo=yes"
  else
--- 3473,3479 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_skey_keyinfo=yes"
  else
***************
*** 3340,3348 ****
  			saved_LIBS="$LIBS"
  			LIBS="-lwrap $LIBS"
  			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
! echo "configure:3344: checking for libwrap" >&5
  			cat > conftest.$ac_ext <<EOF
! #line 3346 "configure"
  #include "confdefs.h"
  
  #include <tcpd.h>
--- 3511,3519 ----
  			saved_LIBS="$LIBS"
  			LIBS="-lwrap $LIBS"
  			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
! echo "configure:3515: checking for libwrap" >&5
  			cat > conftest.$ac_ext <<EOF
! #line 3517 "configure"
  #include "confdefs.h"
  
  #include <tcpd.h>
***************
*** 3352,3358 ****
  hosts_access(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3356: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    
  					echo "$ac_t""yes" 1>&6
--- 3523,3529 ----
  hosts_access(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3527: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    
  					echo "$ac_t""yes" 1>&6
***************
*** 3381,3392 ****
  for ac_func in arc4random atexit b64_ntop bcopy bindresvport_sa clock fchown fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getgrouplist getnameinfo getrlimit getrusage getttyent getusershell glob inet_aton inet_ntoa innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty realpath rresvport_af setdtablesize setenv seteuid setlogin setproctitle setreuid setrlimit setsid sigaction sigvec snprintf strerror strlcat strlcpy strmode strsep strtok_r sysconf tcgetpgrp utimes vsnprintf vhangup vis waitpid _getpty __b64_ntop
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3385: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3390 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3552,3563 ----
  for ac_func in arc4random atexit b64_ntop bcopy bindresvport_sa clock fchown fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getgrouplist getnameinfo getrlimit getrusage getttyent getusershell glob inet_aton inet_ntoa innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty realpath rresvport_af setdtablesize setenv seteuid setlogin setproctitle setreuid setrlimit setsid sigaction sigvec snprintf strerror strlcat strlcpy strmode strsep strtok_r sysconf tcgetpgrp utimes vsnprintf vhangup vis waitpid _getpty __b64_ntop
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3556: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3561 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3409,3415 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3413: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3580,3586 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3584: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3436,3447 ****
  for ac_func in gettimeofday time
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3440: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3445 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3607,3618 ----
  for ac_func in gettimeofday time
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3611: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3616 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3464,3470 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3468: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3635,3641 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3639: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3492,3508 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3496: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3501 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3506: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 3663,3679 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3667: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3672 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3677: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 3531,3542 ****
  for ac_func in login logout updwtmp logwtmp
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3535: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3540 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3702,3713 ----
  for ac_func in login logout updwtmp logwtmp
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3706: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3711 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3559,3565 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3563: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3730,3736 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3734: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3586,3597 ****
  for ac_func in endutent getutent getutid getutline pututline setutent
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3590: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3595 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3757,3768 ----
  for ac_func in endutent getutent getutid getutline pututline setutent
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3761: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3766 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3614,3620 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3618: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3785,3791 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3789: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3641,3652 ****
  for ac_func in utmpname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3645: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3650 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3812,3823 ----
  for ac_func in utmpname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3816: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3821 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3669,3675 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3673: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3840,3846 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3844: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3696,3707 ****
  for ac_func in endutxent getutxent getutxid getutxline pututxline 
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3700: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3705 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3867,3878 ----
  for ac_func in endutxent getutxent getutxid getutxline pututxline 
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3871: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3876 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3724,3730 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3728: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3895,3901 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3899: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3751,3762 ****
  for ac_func in setutxent utmpxname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3755: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3760 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3922,3933 ----
  for ac_func in setutxent utmpxname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3926: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3931 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3779,3785 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3950,3956 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3954: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3805,3816 ****
  
  
  echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
! echo "configure:3809: checking for getuserattr" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3814 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getuserattr(); below.  */
--- 3976,3987 ----
  
  
  echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
! echo "configure:3980: checking for getuserattr" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3985 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getuserattr(); below.  */
***************
*** 3833,3839 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3837: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getuserattr=yes"
  else
--- 4004,4010 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4008: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getuserattr=yes"
  else
***************
*** 3854,3860 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
! echo "configure:3858: checking for getuserattr in -ls" >&5
  ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4025,4031 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
! echo "configure:4029: checking for getuserattr in -ls" >&5
  ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3862,3868 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ls  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3866 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4033,4039 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ls  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4037 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3873,3879 ****
  getuserattr()
  ; return 0; }
  EOF
! if { (eval echo configure:3877: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4044,4050 ----
  getuserattr()
  ; return 0; }
  EOF
! if { (eval echo configure:4048: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3901,3912 ****
  
  
  echo $ac_n "checking for login""... $ac_c" 1>&6
! echo "configure:3905: checking for login" >&5
  if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3910 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char login(); below.  */
--- 4072,4083 ----
  
  
  echo $ac_n "checking for login""... $ac_c" 1>&6
! echo "configure:4076: checking for login" >&5
  if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4081 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char login(); below.  */
***************
*** 3929,3935 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3933: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_login=yes"
  else
--- 4100,4106 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4104: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_login=yes"
  else
***************
*** 3950,3956 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
! echo "configure:3954: checking for login in -lbsd" >&5
  ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4121,4127 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
! echo "configure:4125: checking for login in -lbsd" >&5
  ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3958,3964 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3962 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4129,4135 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4133 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3969,3975 ****
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:3973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4140,4146 ----
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:4144: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3997,4008 ****
  
  
  echo $ac_n "checking for daemon""... $ac_c" 1>&6
! echo "configure:4001: checking for daemon" >&5
  if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4006 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char daemon(); below.  */
--- 4168,4179 ----
  
  
  echo $ac_n "checking for daemon""... $ac_c" 1>&6
! echo "configure:4172: checking for daemon" >&5
  if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4177 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char daemon(); below.  */
***************
*** 4025,4031 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4029: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_daemon=yes"
  else
--- 4196,4202 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4200: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_daemon=yes"
  else
***************
*** 4046,4052 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
! echo "configure:4050: checking for daemon in -lbsd" >&5
  ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4217,4223 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
! echo "configure:4221: checking for daemon in -lbsd" >&5
  ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4054,4060 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4058 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4225,4231 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4229 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4065,4071 ****
  daemon()
  ; return 0; }
  EOF
! if { (eval echo configure:4069: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4236,4242 ----
  daemon()
  ; return 0; }
  EOF
! if { (eval echo configure:4240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4093,4104 ****
  
  
  echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
! echo "configure:4097: checking for getpagesize" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4102 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpagesize(); below.  */
--- 4264,4275 ----
  
  
  echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
! echo "configure:4268: checking for getpagesize" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4273 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpagesize(); below.  */
***************
*** 4121,4127 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4125: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpagesize=yes"
  else
--- 4292,4298 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4296: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpagesize=yes"
  else
***************
*** 4142,4148 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
! echo "configure:4146: checking for getpagesize in -lucb" >&5
  ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4313,4319 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
! echo "configure:4317: checking for getpagesize in -lucb" >&5
  ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4150,4156 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lucb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4154 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4321,4327 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lucb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4325 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4161,4167 ****
  getpagesize()
  ; return 0; }
  EOF
! if { (eval echo configure:4165: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4332,4338 ----
  getpagesize()
  ; return 0; }
  EOF
! if { (eval echo configure:4336: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4191,4209 ****
  # Check for broken snprintf
  if test "x$ac_cv_func_snprintf" = "xyes" ; then
  	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
! echo "configure:4195: checking whether snprintf correctly terminates long strings" >&5
  	if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4200 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
  int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
  		
  EOF
! if { (eval echo configure:4207: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
--- 4362,4380 ----
  # Check for broken snprintf
  if test "x$ac_cv_func_snprintf" = "xyes" ; then
  	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
! echo "configure:4366: checking whether snprintf correctly terminates long strings" >&5
  	if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4371 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
  int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
  		
  EOF
! if { (eval echo configure:4378: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
***************
*** 4226,4232 ****
  fi
  
  echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
! echo "configure:4230: checking whether getpgrp takes no argument" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4397,4403 ----
  fi
  
  echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
! echo "configure:4401: checking whether getpgrp takes no argument" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4234,4240 ****
    { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4238 "configure"
  #include "confdefs.h"
  
  /*
--- 4405,4411 ----
    { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4409 "configure"
  #include "confdefs.h"
  
  /*
***************
*** 4289,4295 ****
  }
  
  EOF
! if { (eval echo configure:4293: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getpgrp_void=yes
  else
--- 4460,4466 ----
  }
  
  EOF
! if { (eval echo configure:4464: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getpgrp_void=yes
  else
***************
*** 4325,4331 ****
  			fi
  
  			echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
! echo "configure:4329: checking for dlopen in -ldl" >&5
  ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4496,4502 ----
  			fi
  
  			echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
! echo "configure:4500: checking for dlopen in -ldl" >&5
  ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4333,4339 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ldl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4337 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4504,4510 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ldl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4508 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4344,4350 ****
  dlopen()
  ; return 0; }
  EOF
! if { (eval echo configure:4348: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4515,4521 ----
  dlopen()
  ; return 0; }
  EOF
! if { (eval echo configure:4519: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4372,4378 ****
  fi
  
  			echo $ac_n "checking for pam_set_item in -lpam""... $ac_c" 1>&6
! echo "configure:4376: checking for pam_set_item in -lpam" >&5
  ac_lib_var=`echo pam'_'pam_set_item | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4543,4549 ----
  fi
  
  			echo $ac_n "checking for pam_set_item in -lpam""... $ac_c" 1>&6
! echo "configure:4547: checking for pam_set_item in -lpam" >&5
  ac_lib_var=`echo pam'_'pam_set_item | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4380,4386 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpam  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4384 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4551,4557 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpam  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4555 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4391,4397 ****
  pam_set_item()
  ; return 0; }
  EOF
! if { (eval echo configure:4395: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4562,4568 ----
  pam_set_item()
  ; return 0; }
  EOF
! if { (eval echo configure:4566: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4422,4433 ****
  			for ac_func in pam_getenvlist
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4426: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4431 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 4593,4604 ----
  			for ac_func in pam_getenvlist
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4597: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4602 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 4450,4456 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4454: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 4621,4627 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4625: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 4492,4500 ****
  if test "x$PAM_MSG" = "xyes" ; then
  	# Check PAM strerror arguments (old PAM)
  	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
! echo "configure:4496: checking whether pam_strerror takes only one argument" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4498 "configure"
  #include "confdefs.h"
  
  #include <stdlib.h>
--- 4663,4671 ----
  if test "x$PAM_MSG" = "xyes" ; then
  	# Check PAM strerror arguments (old PAM)
  	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
! echo "configure:4667: checking whether pam_strerror takes only one argument" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4669 "configure"
  #include "confdefs.h"
  
  #include <stdlib.h>
***************
*** 4504,4510 ****
  (void)pam_strerror((pam_handle_t *)NULL, -1);
  ; return 0; }
  EOF
! if { (eval echo configure:4508: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""no" 1>&6
  else
--- 4675,4681 ----
  (void)pam_strerror((pam_handle_t *)NULL, -1);
  ; return 0; }
  EOF
! if { (eval echo configure:4679: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""no" 1>&6
  else
***************
*** 4544,4550 ****
  	tryssldir="$tryssldir $prefix"
  fi
  echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
! echo "configure:4548: checking for OpenSSL directory" >&5
  if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4715,4721 ----
  	tryssldir="$tryssldir $prefix"
  fi
  echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
! echo "configure:4719: checking for OpenSSL directory" >&5
  if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4587,4593 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4591 "configure"
  #include "confdefs.h"
  
  #include <string.h>
--- 4758,4764 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4762 "configure"
  #include "confdefs.h"
  
  #include <string.h>
***************
*** 4601,4607 ****
  }
  			
  EOF
! if { (eval echo configure:4605: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  				found_crypto=1
--- 4772,4778 ----
  }
  			
  EOF
! if { (eval echo configure:4776: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  				found_crypto=1
***************
*** 4670,4676 ****
  # Now test RSA support
  saved_LIBS="$LIBS"
  echo $ac_n "checking for RSA support""... $ac_c" 1>&6
! echo "configure:4674: checking for RSA support" >&5
  for WANTS_RSAREF in "" 1 ; do
  	if test -z "$WANTS_RSAREF" ; then
  		LIBS="$saved_LIBS"
--- 4841,4847 ----
  # Now test RSA support
  saved_LIBS="$LIBS"
  echo $ac_n "checking for RSA support""... $ac_c" 1>&6
! echo "configure:4845: checking for RSA support" >&5
  for WANTS_RSAREF in "" 1 ; do
  	if test -z "$WANTS_RSAREF" ; then
  		LIBS="$saved_LIBS"
***************
*** 4681,4687 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4685 "configure"
  #include "confdefs.h"
  
  #include <string.h>
--- 4852,4858 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4856 "configure"
  #include "confdefs.h"
  
  #include <string.h>
***************
*** 4700,4706 ****
  }
  	
  EOF
! if { (eval echo configure:4704: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  		rsa_works=1
--- 4871,4877 ----
  }
  	
  EOF
! if { (eval echo configure:4875: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  		rsa_works=1
***************
*** 4738,4744 ****
  # version in OpenSSL. Skip this for PAM
  if test "x$PAM_MSG" = "xno" -a "x$check_for_libcrypt_later" = "x1"; then
  	echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
! echo "configure:4742: checking for crypt in -lcrypt" >&5
  ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4909,4915 ----
  # version in OpenSSL. Skip this for PAM
  if test "x$PAM_MSG" = "xno" -a "x$check_for_libcrypt_later" = "x1"; then
  	echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
! echo "configure:4913: checking for crypt in -lcrypt" >&5
  ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4746,4752 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lcrypt  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4750 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4917,4923 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lcrypt  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4921 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4757,4763 ****
  crypt()
  ; return 0; }
  EOF
! if { (eval echo configure:4761: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4928,4934 ----
  crypt()
  ; return 0; }
  EOF
! if { (eval echo configure:4932: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4786,4792 ****
  
  # Checks for data types
  echo $ac_n "checking size of char""... $ac_c" 1>&6
! echo "configure:4790: checking size of char" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4957,4963 ----
  
  # Checks for data types
  echo $ac_n "checking size of char""... $ac_c" 1>&6
! echo "configure:4961: checking size of char" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4794,4800 ****
    ac_cv_sizeof_char=1
  else
    cat > conftest.$ac_ext <<EOF
! #line 4798 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 4965,4971 ----
    ac_cv_sizeof_char=1
  else
    cat > conftest.$ac_ext <<EOF
! #line 4969 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4805,4811 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_char=`cat conftestval`
  else
--- 4976,4982 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:4980: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_char=`cat conftestval`
  else
***************
*** 4825,4831 ****
  
  
  echo $ac_n "checking size of short int""... $ac_c" 1>&6
! echo "configure:4829: checking size of short int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4996,5002 ----
  
  
  echo $ac_n "checking size of short int""... $ac_c" 1>&6
! echo "configure:5000: checking size of short int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4833,4839 ****
    ac_cv_sizeof_short_int=2
  else
    cat > conftest.$ac_ext <<EOF
! #line 4837 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 5004,5010 ----
    ac_cv_sizeof_short_int=2
  else
    cat > conftest.$ac_ext <<EOF
! #line 5008 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4844,4850 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4848: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_short_int=`cat conftestval`
  else
--- 5015,5021 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:5019: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_short_int=`cat conftestval`
  else
***************
*** 4864,4870 ****
  
  
  echo $ac_n "checking size of int""... $ac_c" 1>&6
! echo "configure:4868: checking size of int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5035,5041 ----
  
  
  echo $ac_n "checking size of int""... $ac_c" 1>&6
! echo "configure:5039: checking size of int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4872,4878 ****
    ac_cv_sizeof_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4876 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 5043,5049 ----
    ac_cv_sizeof_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 5047 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4883,4889 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4887: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_int=`cat conftestval`
  else
--- 5054,5060 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:5058: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_int=`cat conftestval`
  else
***************
*** 4903,4909 ****
  
  
  echo $ac_n "checking size of long int""... $ac_c" 1>&6
! echo "configure:4907: checking size of long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5074,5080 ----
  
  
  echo $ac_n "checking size of long int""... $ac_c" 1>&6
! echo "configure:5078: checking size of long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4911,4917 ****
    ac_cv_sizeof_long_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4915 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 5082,5088 ----
    ac_cv_sizeof_long_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 5086 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4922,4928 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4926: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_int=`cat conftestval`
  else
--- 5093,5099 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:5097: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_int=`cat conftestval`
  else
***************
*** 4942,4948 ****
  
  
  echo $ac_n "checking size of long long int""... $ac_c" 1>&6
! echo "configure:4946: checking size of long long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5113,5119 ----
  
  
  echo $ac_n "checking size of long long int""... $ac_c" 1>&6
! echo "configure:5117: checking size of long long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4950,4956 ****
    ac_cv_sizeof_long_long_int=8
  else
    cat > conftest.$ac_ext <<EOF
! #line 4954 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 5121,5127 ----
    ac_cv_sizeof_long_long_int=8
  else
    cat > conftest.$ac_ext <<EOF
! #line 5125 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4961,4967 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4965: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_long_int=`cat conftestval`
  else
--- 5132,5138 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:5136: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_long_int=`cat conftestval`
  else
***************
*** 4983,5002 ****
  
  # More checks for data types
  echo $ac_n "checking for u_int type""... $ac_c" 1>&6
! echo "configure:4987: checking for u_int type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4993 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5000: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int="yes" 
  else
--- 5154,5173 ----
  
  # More checks for data types
  echo $ac_n "checking for u_int type""... $ac_c" 1>&6
! echo "configure:5158: checking for u_int type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5164 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5171: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int="yes" 
  else
***************
*** 5020,5039 ****
  fi
  
  echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
! echo "configure:5024: checking for intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5030 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5037: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_intxx_t="yes" 
  else
--- 5191,5210 ----
  fi
  
  echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
! echo "configure:5195: checking for intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5201 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5208: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_intxx_t="yes" 
  else
***************
*** 5057,5076 ****
  fi
  	
  echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
! echo "configure:5061: checking for int64_t type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5067 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5074: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_int64_t="yes" 
  else
--- 5228,5247 ----
  fi
  	
  echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
! echo "configure:5232: checking for int64_t type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5238 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5245: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_int64_t="yes" 
  else
***************
*** 5094,5113 ****
  fi
  	
  echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
! echo "configure:5098: checking for u_intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5104 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5111: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_intxx_t="yes" 
  else
--- 5265,5284 ----
  fi
  	
  echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
! echo "configure:5269: checking for u_intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5275 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5282: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_intxx_t="yes" 
  else
***************
*** 5131,5150 ****
  fi
  
  echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
! echo "configure:5135: checking for u_int64_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5141 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5148: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int64_t="yes" 
  else
--- 5302,5321 ----
  fi
  
  echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
! echo "configure:5306: checking for u_int64_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5312 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5319: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int64_t="yes" 
  else
***************
*** 5171,5179 ****
             test "x$ac_cv_header_sys_bitypes_h" = "xyes")
  then
  	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
! echo "configure:5175: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5177 "configure"
  #include "confdefs.h"
  
  #include <sys/bitypes.h>
--- 5342,5350 ----
             test "x$ac_cv_header_sys_bitypes_h" = "xyes")
  then
  	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
! echo "configure:5346: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5348 "configure"
  #include "confdefs.h"
  
  #include <sys/bitypes.h>
***************
*** 5186,5192 ****
  		
  ; return 0; }
  EOF
! if { (eval echo configure:5190: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 5357,5363 ----
  		
  ; return 0; }
  EOF
! if { (eval echo configure:5361: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 5211,5223 ****
  
  if test -z "$have_u_intxx_t" ; then
  	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
! echo "configure:5215: checking for uintXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5221 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5382,5394 ----
  
  if test -z "$have_u_intxx_t" ; then
  	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
! echo "configure:5386: checking for uintXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5392 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5226,5232 ****
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:5230: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_uintxx_t="yes" 
  else
--- 5397,5403 ----
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:5401: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_uintxx_t="yes" 
  else
***************
*** 5250,5262 ****
  fi
  
  echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
! echo "configure:5254: checking for socklen_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5260 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5421,5433 ----
  fi
  
  echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
! echo "configure:5425: checking for socklen_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5431 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5266,5272 ****
  socklen_t foo; foo = 1235;
  ; return 0; }
  EOF
! if { (eval echo configure:5270: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_socklen_t="yes" 
  else
--- 5437,5443 ----
  socklen_t foo; foo = 1235;
  ; return 0; }
  EOF
! if { (eval echo configure:5441: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_socklen_t="yes" 
  else
***************
*** 5289,5301 ****
  fi
  
  echo $ac_n "checking for size_t""... $ac_c" 1>&6
! echo "configure:5293: checking for size_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5299 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5460,5472 ----
  fi
  
  echo $ac_n "checking for size_t""... $ac_c" 1>&6
! echo "configure:5464: checking for size_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5470 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5304,5310 ****
   size_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5308: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_size_t="yes" 
  else
--- 5475,5481 ----
   size_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5479: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_size_t="yes" 
  else
***************
*** 5327,5339 ****
  fi
  
  echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
! echo "configure:5331: checking for ssize_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5337 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5498,5510 ----
  fi
  
  echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
! echo "configure:5502: checking for ssize_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5508 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5342,5348 ****
   ssize_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5346: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ssize_t="yes" 
  else
--- 5513,5519 ----
   ssize_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5517: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ssize_t="yes" 
  else
***************
*** 5365,5377 ****
  fi
  
  echo $ac_n "checking for clock_t""... $ac_c" 1>&6
! echo "configure:5369: checking for clock_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_clock_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5375 "configure"
  #include "confdefs.h"
  
  #include <time.h>
--- 5536,5548 ----
  fi
  
  echo $ac_n "checking for clock_t""... $ac_c" 1>&6
! echo "configure:5540: checking for clock_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_clock_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5546 "configure"
  #include "confdefs.h"
  
  #include <time.h>
***************
*** 5380,5386 ****
   clock_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5384: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_clock_t="yes" 
  else
--- 5551,5557 ----
   clock_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5555: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_clock_t="yes" 
  else
***************
*** 5403,5415 ****
  fi
  
  echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
! echo "configure:5407: checking for sa_family_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5413 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5574,5586 ----
  fi
  
  echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
! echo "configure:5578: checking for sa_family_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5584 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5419,5425 ****
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5423: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
--- 5590,5596 ----
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5594: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
***************
*** 5427,5433 ****
    cat conftest.$ac_ext >&5
    rm -rf conftest*
     cat > conftest.$ac_ext <<EOF
! #line 5431 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5598,5604 ----
    cat conftest.$ac_ext >&5
    rm -rf conftest*
     cat > conftest.$ac_ext <<EOF
! #line 5602 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5438,5444 ****
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5442: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
--- 5609,5615 ----
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5613: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
***************
*** 5464,5476 ****
  fi
  
  echo $ac_n "checking for pid_t""... $ac_c" 1>&6
! echo "configure:5468: checking for pid_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5474 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5635,5647 ----
  fi
  
  echo $ac_n "checking for pid_t""... $ac_c" 1>&6
! echo "configure:5639: checking for pid_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5645 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5479,5485 ****
   pid_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5483: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pid_t="yes" 
  else
--- 5650,5656 ----
   pid_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5654: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pid_t="yes" 
  else
***************
*** 5502,5514 ****
  fi
  
  echo $ac_n "checking for mode_t""... $ac_c" 1>&6
! echo "configure:5506: checking for mode_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5512 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5673,5685 ----
  fi
  
  echo $ac_n "checking for mode_t""... $ac_c" 1>&6
! echo "configure:5677: checking for mode_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5683 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5517,5523 ****
   mode_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5521: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_mode_t="yes" 
  else
--- 5688,5694 ----
   mode_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5692: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_mode_t="yes" 
  else
***************
*** 5541,5553 ****
  
  
  echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:5545: checking for struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5551 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5712,5724 ----
  
  
  echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:5716: checking for struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5722 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5557,5563 ****
   struct sockaddr_storage s; 
  ; return 0; }
  EOF
! if { (eval echo configure:5561: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_storage="yes" 
  else
--- 5728,5734 ----
   struct sockaddr_storage s; 
  ; return 0; }
  EOF
! if { (eval echo configure:5732: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_storage="yes" 
  else
***************
*** 5580,5592 ****
  fi
  
  echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
! echo "configure:5584: checking for struct sockaddr_in6" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5590 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5751,5763 ----
  fi
  
  echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
! echo "configure:5755: checking for struct sockaddr_in6" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5761 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5596,5602 ****
   struct sockaddr_in6 s; s.sin6_family = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5600: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_in6="yes" 
  else
--- 5767,5773 ----
   struct sockaddr_in6 s; s.sin6_family = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5771: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_in6="yes" 
  else
***************
*** 5619,5631 ****
  fi
  
  echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
! echo "configure:5623: checking for struct in6_addr" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5629 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5790,5802 ----
  fi
  
  echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
! echo "configure:5794: checking for struct in6_addr" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5800 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5635,5641 ****
   struct in6_addr s; s.s6_addr[0] = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5639: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_in6_addr="yes" 
  else
--- 5806,5812 ----
   struct in6_addr s; s.s6_addr[0] = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5810: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_in6_addr="yes" 
  else
***************
*** 5658,5670 ****
  fi
  
  echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
! echo "configure:5662: checking for struct addrinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5668 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5829,5841 ----
  fi
  
  echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
! echo "configure:5833: checking for struct addrinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5839 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5675,5681 ****
   struct addrinfo s; s.ai_flags = AI_PASSIVE; 
  ; return 0; }
  EOF
! if { (eval echo configure:5679: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_addrinfo="yes" 
  else
--- 5846,5852 ----
   struct addrinfo s; s.ai_flags = AI_PASSIVE; 
  ; return 0; }
  EOF
! if { (eval echo configure:5850: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_addrinfo="yes" 
  else
***************
*** 5698,5717 ****
  fi
  
  echo $ac_n "checking for struct timeval""... $ac_c" 1>&6
! echo "configure:5702: checking for struct timeval" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_timeval'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5708 "configure"
  #include "confdefs.h"
   #include <sys/time.h> 
  int main() {
   struct timeval tv; tv.tv_sec = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5715: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_timeval="yes" 
  else
--- 5869,5888 ----
  fi
  
  echo $ac_n "checking for struct timeval""... $ac_c" 1>&6
! echo "configure:5873: checking for struct timeval" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_timeval'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5879 "configure"
  #include "confdefs.h"
   #include <sys/time.h> 
  int main() {
   struct timeval tv; tv.tv_sec = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5886: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_timeval="yes" 
  else
***************
*** 5745,5751 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 5749 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
--- 5916,5922 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 5920 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
***************
*** 5772,5778 ****
  #endif
  		
  EOF
! if { (eval echo configure:5776: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     true 
  else
--- 5943,5949 ----
  #endif
  		
  EOF
! if { (eval echo configure:5947: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     true 
  else
***************
*** 5796,5808 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
! echo "configure:5800: checking for ut_host field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5806 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 5967,5979 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
! echo "configure:5971: checking for ut_host field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5977 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5836,5848 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5840: checking for ut_host field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5846 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6007,6019 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6011: checking for ut_host field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6017 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 5876,5888 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
  	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5880: checking for syslen field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5886 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6047,6059 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
  	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6051: checking for syslen field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6057 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 5916,5928 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
  	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
! echo "configure:5920: checking for ut_pid field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5926 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6087,6099 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
  	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
! echo "configure:6091: checking for ut_pid field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6097 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5956,5968 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
! echo "configure:5960: checking for ut_type field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5966 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6127,6139 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
! echo "configure:6131: checking for ut_type field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6137 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5996,6008 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6000: checking for ut_type field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6006 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6167,6179 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6171: checking for ut_type field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6177 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6036,6048 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
! echo "configure:6040: checking for ut_tv field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6046 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6207,6219 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
! echo "configure:6211: checking for ut_tv field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6217 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6076,6088 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
! echo "configure:6080: checking for ut_id field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6086 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6247,6259 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
! echo "configure:6251: checking for ut_id field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6257 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6116,6128 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6120: checking for ut_id field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6126 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6287,6299 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6291: checking for ut_id field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6297 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6156,6168 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
! echo "configure:6160: checking for ut_addr field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6166 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6327,6339 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
! echo "configure:6331: checking for ut_addr field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6337 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6196,6208 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6200: checking for ut_addr field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6206 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6367,6379 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6371: checking for ut_addr field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6377 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6236,6248 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
! echo "configure:6240: checking for ut_addr_v6 field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6246 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6407,6419 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
! echo "configure:6411: checking for ut_addr_v6 field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6417 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6276,6288 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6280: checking for ut_addr_v6 field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6286 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6447,6459 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6451: checking for ut_addr_v6 field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6457 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6316,6328 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
  	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
! echo "configure:6320: checking for ut_exit field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6326 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6487,6499 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
  	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
! echo "configure:6491: checking for ut_exit field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6497 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6356,6368 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
! echo "configure:6360: checking for ut_time field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6366 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6527,6539 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
! echo "configure:6531: checking for ut_time field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6537 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6396,6408 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6400: checking for ut_time field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6406 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6567,6579 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6571: checking for ut_time field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6577 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6436,6448 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6440: checking for ut_tv field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6446 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6607,6619 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6611: checking for ut_tv field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6617 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6472,6483 ****
  	fi
  
  echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
! echo "configure:6476: checking for st_blksize in struct stat" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6481 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/stat.h>
--- 6643,6654 ----
  	fi
  
  echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
! echo "configure:6647: checking for st_blksize in struct stat" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6652 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/stat.h>
***************
*** 6485,6491 ****
  struct stat s; s.st_blksize;
  ; return 0; }
  EOF
! if { (eval echo configure:6489: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_st_blksize=yes
  else
--- 6656,6662 ----
  struct stat s; s.st_blksize;
  ; return 0; }
  EOF
! if { (eval echo configure:6660: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_st_blksize=yes
  else
***************
*** 6507,6519 ****
  
  
  echo $ac_n "checking for sun_len field in struct sockaddr_un""... $ac_c" 1>&6
! echo "configure:6511: checking for sun_len field in struct sockaddr_un" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sun_len_in_struct_sockaddr_un'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6517 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6678,6690 ----
  
  
  echo $ac_n "checking for sun_len field in struct sockaddr_un""... $ac_c" 1>&6
! echo "configure:6682: checking for sun_len field in struct sockaddr_un" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sun_len_in_struct_sockaddr_un'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6688 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6523,6529 ****
   struct sockaddr_un s; s.sun_len = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6527: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sun_len_in_struct_sockaddr_un="yes" 
  else
--- 6694,6700 ----
   struct sockaddr_un s; s.sun_len = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6698: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sun_len_in_struct_sockaddr_un="yes" 
  else
***************
*** 6545,6557 ****
  fi
  
  echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6549: checking for ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6555 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6716,6728 ----
  fi
  
  echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6720: checking for ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6726 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6561,6567 ****
   struct sockaddr_storage s; s.ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6565: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ss_family_in_struct_ss="yes" 
  else
--- 6732,6738 ----
   struct sockaddr_storage s; s.ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6736: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ss_family_in_struct_ss="yes" 
  else
***************
*** 6583,6595 ****
  fi
  
  echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6587: checking for __ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6593 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6754,6766 ----
  fi
  
  echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6758: checking for __ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6764 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6599,6605 ****
   struct sockaddr_storage s; s.__ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6603: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have___ss_family_in_struct_ss="yes" 
  else
--- 6770,6776 ----
   struct sockaddr_storage s; s.__ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6774: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have___ss_family_in_struct_ss="yes" 
  else
***************
*** 6622,6634 ****
  fi
  
  echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
! echo "configure:6626: checking for pw_class field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6632 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
--- 6793,6805 ----
  fi
  
  echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
! echo "configure:6797: checking for pw_class field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6803 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
***************
*** 6637,6643 ****
   struct passwd p; p.pw_class = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6641: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_class_in_struct_passwd="yes" 
  else
--- 6808,6814 ----
   struct passwd p; p.pw_class = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6812: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_class_in_struct_passwd="yes" 
  else
***************
*** 6661,6680 ****
  
  
  echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
! echo "configure:6665: checking if libc defines __progname" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6671 "configure"
  #include "confdefs.h"
  
  int main() {
   extern char *__progname; printf("%s", __progname); 
  ; return 0; }
  EOF
! if { (eval echo configure:6678: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines___progname="yes" 
  else
--- 6832,6851 ----
  
  
  echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
! echo "configure:6836: checking if libc defines __progname" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6842 "configure"
  #include "confdefs.h"
  
  int main() {
   extern char *__progname; printf("%s", __progname); 
  ; return 0; }
  EOF
! if { (eval echo configure:6849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines___progname="yes" 
  else
***************
*** 6698,6717 ****
  
  
  echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
! echo "configure:6702: checking if libc defines sys_errlist" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6708 "configure"
  #include "confdefs.h"
  
  int main() {
   extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
  ; return 0; }
  EOF
! if { (eval echo configure:6715: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_errlist="yes" 
  else
--- 6869,6888 ----
  
  
  echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
! echo "configure:6873: checking if libc defines sys_errlist" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6879 "configure"
  #include "confdefs.h"
  
  int main() {
   extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
  ; return 0; }
  EOF
! if { (eval echo configure:6886: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_errlist="yes" 
  else
***************
*** 6735,6754 ****
  
  
  echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
! echo "configure:6739: checking if libc defines sys_nerr" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6745 "configure"
  #include "confdefs.h"
  
  int main() {
   extern int sys_nerr; printf("%i", sys_nerr);
  ; return 0; }
  EOF
! if { (eval echo configure:6752: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_nerr="yes" 
  else
--- 6906,6925 ----
  
  
  echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
! echo "configure:6910: checking if libc defines sys_nerr" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6916 "configure"
  #include "confdefs.h"
  
  int main() {
   extern int sys_nerr; printf("%i", sys_nerr);
  ; return 0; }
  EOF
! if { (eval echo configure:6923: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_nerr="yes" 
  else
***************
*** 6785,6791 ****
  		# Extract the first word of "rsh", so it can be a program name with args.
  set dummy rsh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6789: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 6956,6962 ----
  		# Extract the first word of "rsh", so it can be a program name with args.
  set dummy rsh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6960: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6835,6841 ****
  		# Extract the first word of "xauth", so it can be a program name with args.
  set dummy xauth; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6839: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7006,7012 ----
  		# Extract the first word of "xauth", so it can be a program name with args.
  set dummy xauth; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7010: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6906,6912 ****
  	
  ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
! echo "configure:6910: checking for "/dev/ptmx"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7077,7083 ----
  	
  ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
! echo "configure:7081: checking for "/dev/ptmx"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6939,6945 ****
  
  ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
! echo "configure:6943: checking for "/dev/ptc"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7110,7116 ----
  
  ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
! echo "configure:7114: checking for "/dev/ptc"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6990,6996 ****
  		
  ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
! echo "configure:6994: checking for "/dev/urandom"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7161,7167 ----
  		
  ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
! echo "configure:7165: checking for "/dev/urandom"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7060,7066 ****
  		# Check for existing socket only if we don't have a random device already
  		if test -z "$RANDOM_POOL" ; then
  			echo $ac_n "checking for PRNGD/EGD socket""... $ac_c" 1>&6
! echo "configure:7064: checking for PRNGD/EGD socket" >&5
  			# Insert other locations here
  			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
  				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
--- 7231,7237 ----
  		# Check for existing socket only if we don't have a random device already
  		if test -z "$RANDOM_POOL" ; then
  			echo $ac_n "checking for PRNGD/EGD socket""... $ac_c" 1>&6
! echo "configure:7235: checking for PRNGD/EGD socket" >&5
  			# Insert other locations here
  			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
  				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
***************
*** 7093,7099 ****
  	# Extract the first word of "ls", so it can be a program name with args.
  set dummy ls; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7097: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7264,7270 ----
  	# Extract the first word of "ls", so it can be a program name with args.
  set dummy ls; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7268: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7134,7140 ****
  	# Extract the first word of "netstat", so it can be a program name with args.
  set dummy netstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7138: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7305,7311 ----
  	# Extract the first word of "netstat", so it can be a program name with args.
  set dummy netstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7309: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7175,7181 ****
  	# Extract the first word of "arp", so it can be a program name with args.
  set dummy arp; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7179: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7346,7352 ----
  	# Extract the first word of "arp", so it can be a program name with args.
  set dummy arp; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7350: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7216,7222 ****
  	# Extract the first word of "ifconfig", so it can be a program name with args.
  set dummy ifconfig; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7220: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7387,7393 ----
  	# Extract the first word of "ifconfig", so it can be a program name with args.
  set dummy ifconfig; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7391: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7257,7263 ****
  	# Extract the first word of "ps", so it can be a program name with args.
  set dummy ps; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7261: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7428,7434 ----
  	# Extract the first word of "ps", so it can be a program name with args.
  set dummy ps; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7432: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7298,7304 ****
  	# Extract the first word of "w", so it can be a program name with args.
  set dummy w; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7302: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7469,7475 ----
  	# Extract the first word of "w", so it can be a program name with args.
  set dummy w; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7473: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7339,7345 ****
  	# Extract the first word of "who", so it can be a program name with args.
  set dummy who; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7343: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7510,7516 ----
  	# Extract the first word of "who", so it can be a program name with args.
  set dummy who; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7514: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7380,7386 ****
  	# Extract the first word of "last", so it can be a program name with args.
  set dummy last; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7384: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7551,7557 ----
  	# Extract the first word of "last", so it can be a program name with args.
  set dummy last; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7555: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7421,7427 ****
  	# Extract the first word of "lastlog", so it can be a program name with args.
  set dummy lastlog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7425: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7592,7598 ----
  	# Extract the first word of "lastlog", so it can be a program name with args.
  set dummy lastlog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7596: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7462,7468 ****
  	# Extract the first word of "df", so it can be a program name with args.
  set dummy df; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7466: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7633,7639 ----
  	# Extract the first word of "df", so it can be a program name with args.
  set dummy df; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7637: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7503,7509 ****
  	# Extract the first word of "vmstat", so it can be a program name with args.
  set dummy vmstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7507: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7674,7680 ----
  	# Extract the first word of "vmstat", so it can be a program name with args.
  set dummy vmstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7678: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7544,7550 ****
  	# Extract the first word of "uptime", so it can be a program name with args.
  set dummy uptime; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7548: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7715,7721 ----
  	# Extract the first word of "uptime", so it can be a program name with args.
  set dummy uptime; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7719: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7585,7591 ****
  	# Extract the first word of "ipcs", so it can be a program name with args.
  set dummy ipcs; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7589: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7756,7762 ----
  	# Extract the first word of "ipcs", so it can be a program name with args.
  set dummy ipcs; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7760: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7626,7632 ****
  	# Extract the first word of "tail", so it can be a program name with args.
  set dummy tail; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7630: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7797,7803 ----
  	# Extract the first word of "tail", so it can be a program name with args.
  set dummy tail; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7801: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7730,7738 ****
  
  if test -z "$disable_shadow" ; then
  	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
! echo "configure:7734: checking if the systems has expire shadow information" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 7736 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 7901,7909 ----
  
  if test -z "$disable_shadow" ; then
  	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
! echo "configure:7905: checking if the systems has expire shadow information" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 7907 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 7743,7749 ****
   sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:7747: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     sp_expire_available=yes 
  else
--- 7914,7920 ----
   sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:7918: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     sp_expire_available=yes 
  else
***************
*** 7810,7816 ****
  	
  else
    cat > conftest.$ac_ext <<EOF
! #line 7814 "configure"
  #include "confdefs.h"
  
  /* find out what STDPATH is */
--- 7981,7987 ----
  	
  else
    cat > conftest.$ac_ext <<EOF
! #line 7985 "configure"
  #include "confdefs.h"
  
  /* find out what STDPATH is */
***************
*** 7842,7848 ****
  }
  		
  EOF
! if { (eval echo configure:7846: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     user_path=`cat conftest.stdpath` 
  else
--- 8013,8019 ----
  }
  		
  EOF
! if { (eval echo configure:8017: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     user_path=`cat conftest.stdpath` 
  else
***************
*** 7899,7905 ****
  
  
  echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
! echo "configure:7903: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
  IPV4_IN6_HACK_MSG="no" 
  # Check whether --with-4in6 or --without-4in6 was given.
  if test "${with_4in6+set}" = set; then
--- 8070,8076 ----
  
  
  echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
! echo "configure:8074: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
  IPV4_IN6_HACK_MSG="no" 
  # Check whether --with-4in6 or --without-4in6 was given.
  if test "${with_4in6+set}" = set; then
***************
*** 7951,7957 ****
  
  
  echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
! echo "configure:7955: checking whether to install ssh as suid root" >&5
  # Check whether --enable-suid-ssh or --disable-suid-ssh was given.
  if test "${enable_suid_ssh+set}" = set; then
    enableval="$enable_suid_ssh"
--- 8122,8128 ----
  
  
  echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
! echo "configure:8126: checking whether to install ssh as suid root" >&5
  # Check whether --enable-suid-ssh or --disable-suid-ssh was given.
  if test "${enable_suid_ssh+set}" = set; then
    enableval="$enable_suid_ssh"
***************
*** 8100,8108 ****
  
  
  echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
! echo "configure:8104: checking if your system defines LASTLOG_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8106 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8271,8279 ----
  
  
  echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
! echo "configure:8275: checking if your system defines LASTLOG_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8277 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8118,8124 ****
   char *lastlog = LASTLOG_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8122: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8289,8295 ----
   char *lastlog = LASTLOG_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8293: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8128,8136 ****
    
  		echo "$ac_t""no" 1>&6
  		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
! echo "configure:8132: checking if your system defines _PATH_LASTLOG" >&5
  		cat > conftest.$ac_ext <<EOF
! #line 8134 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8299,8307 ----
    
  		echo "$ac_t""no" 1>&6
  		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
! echo "configure:8303: checking if your system defines _PATH_LASTLOG" >&5
  		cat > conftest.$ac_ext <<EOF
! #line 8305 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8146,8152 ****
   char *lastlog = _PATH_LASTLOG; 
  ; return 0; }
  EOF
! if { (eval echo configure:8150: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8317,8323 ----
   char *lastlog = _PATH_LASTLOG; 
  ; return 0; }
  EOF
! if { (eval echo configure:8321: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8185,8193 ****
  fi	
  
  echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
! echo "configure:8189: checking if your system defines UTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8191 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8356,8364 ----
  fi	
  
  echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
! echo "configure:8360: checking if your system defines UTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8362 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8200,8206 ****
   char *utmp = UTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8204: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8371,8377 ----
   char *utmp = UTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8375: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8235,8243 ****
  fi	
  
  echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
! echo "configure:8239: checking if your system defines WTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8241 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8406,8414 ----
  fi	
  
  echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
! echo "configure:8410: checking if your system defines WTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8412 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8250,8256 ****
   char *wtmp = WTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8254: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8421,8427 ----
   char *wtmp = WTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8425: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8286,8294 ****
  
  
  echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8290: checking if your system defines UTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8292 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8457,8465 ----
  
  
  echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8461: checking if your system defines UTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8463 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8304,8310 ****
   char *utmpx = UTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8308: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8475,8481 ----
   char *utmpx = UTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8479: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8331,8339 ****
  fi	
  
  echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8335: checking if your system defines WTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8337 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8502,8510 ----
  fi	
  
  echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8506: checking if your system defines WTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8508 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8349,8355 ****
   char *wtmpx = WTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8353: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8520,8526 ----
   char *wtmpx = WTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8524: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8401,8412 ****
  fi
  
  echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
! echo "configure:8405: checking for Cygwin environment" >&5
  if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8410 "configure"
  #include "confdefs.h"
  
  int main() {
--- 8572,8583 ----
  fi
  
  echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
! echo "configure:8576: checking for Cygwin environment" >&5
  if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8581 "configure"
  #include "confdefs.h"
  
  int main() {
***************
*** 8417,8423 ****
  return __CYGWIN__;
  ; return 0; }
  EOF
! if { (eval echo configure:8421: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_cygwin=yes
  else
--- 8588,8594 ----
  return __CYGWIN__;
  ; return 0; }
  EOF
! if { (eval echo configure:8592: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_cygwin=yes
  else
***************
*** 8434,8452 ****
  CYGWIN=
  test "$ac_cv_cygwin" = yes && CYGWIN=yes
  echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
! echo "configure:8438: checking for mingw32 environment" >&5
  if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8443 "configure"
  #include "confdefs.h"
  
  int main() {
  return __MINGW32__;
  ; return 0; }
  EOF
! if { (eval echo configure:8450: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_mingw32=yes
  else
--- 8605,8623 ----
  CYGWIN=
  test "$ac_cv_cygwin" = yes && CYGWIN=yes
  echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
! echo "configure:8609: checking for mingw32 environment" >&5
  if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8614 "configure"
  #include "confdefs.h"
  
  int main() {
  return __MINGW32__;
  ; return 0; }
  EOF
! if { (eval echo configure:8621: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_mingw32=yes
  else
***************
*** 8465,8471 ****
  
  
  echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
! echo "configure:8469: checking for executable suffix" >&5
  if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8636,8642 ----
  
  
  echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
! echo "configure:8640: checking for executable suffix" >&5
  if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8475,8481 ****
    rm -f conftest*
    echo 'int main () { return 0; }' > conftest.$ac_ext
    ac_cv_exeext=
!   if { (eval echo configure:8479: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
      for file in conftest.*; do
        case $file in
        *.c | *.o | *.obj) ;;
--- 8646,8652 ----
    rm -f conftest*
    echo 'int main () { return 0; }' > conftest.$ac_ext
    ac_cv_exeext=
!   if { (eval echo configure:8650: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
      for file in conftest.*; do
        case $file in
        *.c | *.o | *.obj) ;;
diff -c -r openssh-2.5.2p2-gss+krb5/configure.in openssh-2.5.2p2-gss+krb5-dce/configure.in
*** openssh-2.5.2p2-gss+krb5/configure.in	Wed Apr 11 18:12:12 2001
--- openssh-2.5.2p2-gss+krb5-dce/configure.in	Fri Apr 13 11:27:48 2001
***************
*** 405,410 ****
--- 405,421 ----
  )
  
  
+ # Check whether user wants DCE support
+ AC_ARG_WITH(dce,
+         [  --with-dce		Enable DCE support],
+         [
+                 if test "x$withval" != "xno" ; then
+                         CFLAGS="$CFLAGS -D_REENTRANT"
+                         AC_DEFINE(DCE)
+                         DCE=yes
+                 fi
+         ]
+ )
  
  # Check whether user wants Kerberos 5 support
  AC_ARG_WITH(kerberos5,
diff -c -r openssh-2.5.2p2-gss+krb5/session.c openssh-2.5.2p2-gss+krb5-dce/session.c
*** openssh-2.5.2p2-gss+krb5/session.c	Wed Apr 11 18:12:23 2001
--- openssh-2.5.2p2-gss+krb5-dce/session.c	Fri Apr  6 15:58:02 2001
***************
*** 442,448 ****
                                  
                                  tgt.data = packet_get_string(&tgt.length);
                                  packet_integrity_check(plen, 4 + tgt.length ,type);
!                                 success = auth_krb5_tgt(&tgt);
                                  xfree(tgt.data);
                                  break;
                          }
--- 442,448 ----
                                  
                                  tgt.data = packet_get_string(&tgt.length);
                                  packet_integrity_check(plen, 4 + tgt.length ,type);
!                                 success = auth_krb5_tgt(pw, &tgt);
                                  xfree(tgt.data);
                                  break;
                          }
***************
*** 1209,1215 ****
  	 */
  	copy_environment(&env, &envsize);
  #endif
!         
  #ifdef KRB5
          {
                  char *name;
--- 1209,1218 ----
  	 */
  	copy_environment(&env, &envsize);
  #endif
! 
! #ifdef DCE
! 	auth_dce_setcred(env, &envsize);
! #else	  
  #ifdef KRB5
          {
                  char *name;
***************
*** 1221,1227 ****
                  
          }
  #endif /* KRB5 */
! 
  #ifdef GSSAPI
  	/* Allow any GSSAPI methods that we've used to alter the childs
  	 * environment as they see fit
--- 1224,1231 ----
                  
          }
  #endif /* KRB5 */
! #endif /* DCE */
! 	
  #ifdef GSSAPI
  	/* Allow any GSSAPI methods that we've used to alter the childs
  	 * environment as they see fit
diff -c -r openssh-2.5.2p2-gss+krb5/sshconnect1.c openssh-2.5.2p2-gss+krb5-dce/sshconnect1.c
*** openssh-2.5.2p2-gss+krb5/sshconnect1.c	Wed Apr 11 18:12:24 2001
--- openssh-2.5.2p2-gss+krb5-dce/sshconnect1.c	Wed Apr 11 16:19:53 2001
***************
*** 677,683 ****
                  goto out;
          }
  #else
! 	forwardable = 0; /* XXX - this should read a config file */
  
    	problem = krb5_fwd_tgt_creds (ssh_context,
  				      auth_context,
--- 677,683 ----
                  goto out;
          }
  #else
! 	forwardable = 1; /* XXX - this should read a config file */
  
    	problem = krb5_fwd_tgt_creds (ssh_context,
  				      auth_context,
diff -c -r openssh-2.5.2p2-gss+krb5/sshd.c openssh-2.5.2p2-gss+krb5-dce/sshd.c
*** openssh-2.5.2p2-gss+krb5/sshd.c	Wed Apr 11 18:12:24 2001
--- openssh-2.5.2p2-gss+krb5-dce/sshd.c	Fri Apr  6 15:58:51 2001
***************
*** 1206,1211 ****
--- 1206,1215 ----
  	/* The connection has been terminated. */
  	verbose("Closing connection to %.100s", remote_ip);
  
+ #ifdef DCE
+ 	auth_dce_cleanup();
+ #endif
+ 	     
  #ifdef USE_PAM
  	finish_pam();
  #endif /* USE_PAM */
